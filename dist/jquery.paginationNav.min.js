/*! jquery.paginationNav - v0.1.0 - 2013-01-08
* https://github.com/gunderson/jquery.paginationNav
* Copyright (c) 2013 Patrick Gunderson; Licensed MIT */
(function(e){e.fn.paginationNav=function(t){return self=this,this.defaultSettings={numPages:0,pageNumber:-1,transitionFrom:1,visiblePrev:2,visibleNext:2,showPrev:!0,showNext:!0,showFirst:!0,showLast:!0,loop:!1},e.extend(this,this.defaultSettings),e.extend(this,t),this.setPage=function(e){e=parseInt(e,10),this.pageNumber!=e&&(e%=this.numPages+1,e<0&&(e+=this.numPages),e-this.pageNumber<0?this.transitionFrom=-1:this.transitionFrom=1,this.rebuild(e),this.trigger("setPage",{pageNumber:e,transitionFrom:this.transitionFrom}))},this.rebuild=function(t,n,r,i,s,o,u){this.pageNumber=t||0,n=n||this.defaultSettings.visiblePrev,r=r||this.defaultSettings.visibleNext,i=i||this.defaultSettings.showPrev,s=s||this.defaultSettings.showNext,o=o||this.defaultSettings.showFirst,u=u||this.defaultSettings.showLast;var a=this.pageNumber-n;a<=0&&(r-=a,a=0);var f=this.pageNumber+r;f>=this.numPages&&(f=this.numPages,a=this.numPages-(n+r));var l="";if(this.numPages>0){for(var c=a;c<=f;c++)l+=this.makeNumberDisplay(c,this.pageNumber);o&&this.pageNumber-n>0&&(l=this.makeNumberDisplay(0,this.pageNumber)+" ... "+l),u&&this.pageNumber+r<this.numPages&&(l=l+" ... "+this.makeNumberDisplay(this.numPages,this.pageNumber))}this.html(l),this.find(".pageNumber").each(function(t,n){$item=e(n),$item.click(function(){e(this).trigger("changePageClick",e(this).data("pagenumber"))}),$item.on("changePageClick",self.handleNumberClick)})},this.handleNumberClick=function(e,t){self.setPage.call(self,[parseInt(t,10),!0])},this.makeNumberDisplay=function(e,t){var n="pageNumber"+(e==t?" active":""),r=e+1,i='<div class="'+n+'" data-pagenumber="'+e+'">'+r+"</div>";return i},this.nextPage=function(){(this.pageNumber+1<this.numPages||this.loop)&&this.setPage(this.pageNumber+1)},this.prevPage=function(){(this.pageNumber-1>=0||this.loop)&&this.setPage(this.pageNumber-1)},this.setPage(0),this}})(jQuery);