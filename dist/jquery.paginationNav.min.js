/*! jquery.paginationNav - v0.2.0 - 2013-01-09
* https://github.com/gunderson/jquery.paginationNav
* Copyright (c) 2013 Patrick Gunderson; Licensed MIT */
(function(e){e.fn.paginationNav=function(t){return self=this,this.defaultSettings={numPages:0,pageNumber:-1,direction:1,visibleNums:5,currentPosition:null,showPrev:!0,showNext:!0,showFirst:!0,showLast:!0},e.extend(this,this.defaultSettings),e.extend(this,t),this.setPage=function(e){e=parseInt(e,10),this.pageNumber!=e&&(e%=this.numPages+1,e<0&&(e+=this.numPages),this.direction=e-this.pageNumber>0?1:-1,this.rebuild(e),this.trigger("setPage",{pageNumber:e,direction:this.direction}))},this.rebuild=function(t){this.pageNumber=t||0;var n=this.currentPosition||Math.floor(this.visibleNums*.5),r=r||n,i=i||this.visibleNums-n-1,s=s||this.showPrev,o=o||this.showNext,u=u||this.showFirst,a=a||this.showLast,f=this.pageNumber-r;f<=0&&(i-=f,f=0);var l=this.pageNumber+i;l>=this.numPages&&(l=this.numPages-1,r+=i,f=Math.max(0,this.numPages-r-1));var c="";if(this.numPages>0){for(var h=f;h<=l;h++)c+=this.makeNumberDisplay(h,this.pageNumber);u&&this.pageNumber-r>0&&(c=this.makeNumberDisplay(0,this.pageNumber)+" ... "+c),a&&this.pageNumber+i<this.numPages&&(c=c+" ... "+this.makeNumberDisplay(this.numPages,this.pageNumber))}this.html(c),this.find(".pageNumber").each(function(t,n){$item=e(n),$item.click(function(){e(this).trigger("changePageClick",e(this).data("pagenumber"))}),$item.on("changePageClick",self.handleNumberClick)})},this.handleNumberClick=function(e,t){self.setPage.call(self,[parseInt(t,10),!0])},this.makeNumberDisplay=function(e,t){var n="pageNumber"+(e==t?" active":""),r=e+1,i='<div class="'+n+'" data-pagenumber="'+e+'">'+r+"</div>";return i},this.nextPage=function(){this.pageNumber+1<this.numPages&&this.setPage(this.pageNumber+1)},this.prevPage=function(){this.pageNumber-1>=0&&this.setPage(this.pageNumber-1)},this.setPage(0),this}})(jQuery);